#include "bw8cpu.asm"

FALSE = 0x00
TRUE = 0xFF

SYS_BASE = 0x00
PIC_BASE = 0x01
UART_BASE = 0x02
SPI_BASE = 0x03
VDP_BASE = 0x04
PSG_BASE = 0x05
DMA_BASE = 0x07
KEY_BASE = 0x08
DEV10_BASE = 0x09
DEV11_BASE = 0x0A
DEV12_BASE = 0x0B
DEV13_BASE = 0x0C
DEV14_BASE = 0x0D
DEV15_BASE = 0x0E
DEV16_BASE = 0x0F

CLK_MODE = SYS_BASE + 0
CLK_STEP = 0b1111_1110
CLK_DEMO = 0b1111_1101
CLK_FAST = 0b1111_1011

IRQ_SOURCE = PIC_BASE + 0
IRQ_MASK = PIC_BASE + 1

DMA_SRC_BR = DMA_BASE + 0
DMA_SRC_HI = DMA_BASE + 1
DMA_SRC_LO = DMA_BASE + 2

DMA_DST_BR = DMA_BASE + 3
DMA_DST_HI = DMA_BASE + 4
DMA_DST_LO = DMA_BASE + 5

DMA_LEN_HI = DMA_BASE + 6
DMA_LEN_LO = DMA_BASE + 7

VRAM_BASE = 0xC000
VRAM_BITMAP0 = VRAM_BASE + (0 * 1024)
VRAM_TILEMAP = VRAM_BASE + (8 * 1024)
VRAM_PALETTE = VRAM_BASE + (12 * 1024)
VRAM_END = VRAM_BASE + (16 * 1024)

#ruledef sys_dependent_psuedo_ops {
    brk => asm{
        out <CLK_MODE>, #CLK_STEP
    }
}
